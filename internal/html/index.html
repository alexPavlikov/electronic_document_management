{{ define "request" }}

{{ template "dialog" }}
    <main>

        <div class="sorted">
            <form action="/edm/request/sorted/" method="post">
                <select name="client-sort">
                    <option disabled selected>Клиенты</option>
                    <option value="1">ООО "Hello"</option>
                </select>

                <select name="worker-sort">
                    <option disabled selected>Работники</option>
                    <option value="1">Шеф</option>
                </select>

                <select name="object-sort">
                    <option disabled selected>Объекты</option>
                    <option value="1">Шеф</option>
                </select>

                <select name="equipment-sort">
                    <option disabled selected>Оборудование</option>
                    <option value="1">Шеф</option>
                </select>

                <select name="status-sort">
                    <option disabled selected>Выберите статус</option>
                    <option value="1">Шеф</option>
                </select>
                <button type="submit" class="main-btn"><i class="fa-regular fa-square-check"></i></button>
            </form>
        </div>

        <table class="table-sortable">
            <thead>
                <tr>
                    <th>id</th>
                    <th>Тема</th>
                    <th>Клиент</th>
                    <th>Работник</th>
                    <th>Объект</th>
                    <th>Оборудование</th>
                    <th>Контракт</th>
                    <th>Описание</th>
                    <th>Создана</th>
                    <th>Закончена</th>
                    <th>Статус</th>
                    <th><i class="fa-solid fa-chevron-up"></i></th>
                    <th><i class="fa-solid fa-paperclip"></i></th>
                    <th><i class="fa-solid fa-pen-to-square"></i></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Hello</td>
                    <td>Client</td>
                    <td>Worker</td>
                    <td>Object</td>
                    <td>Equipment</td>
                    <td>Contract</td>
                    <td>Description</td>
                    <td>Start</td>
                    <td>End</td>
                    <td style="background-color: aqua;">Закрыта</td>
                    <td><i class="fa-solid fa-chevron-up"></i></td>
                    <td>+</td>
                    <td class="edit"><button><i class="fa-solid fa-pen-to-square"></i></button></td>
                </tr>
                {{ range $_, $req := .Requests }}
                <tr>
                    <td style="text-align: center;">{{ $req.Id }}</td>
                    <td>{{ $req.Title }}</td>
                    <td>{{ $req.Client.Id }}</td>
                    <td>{{ $req.Worker.Name }}</td>
                    <td>{{ $req.Object.Name }}</td>
                    <td>{{ $req.Equipment }}</td>
                    <td>{{ $req.Contract }}</td>
                    <td>{{ $req.Description }}</td>
                    <td>{{ $req.DateStart }}</td>
                    <td>{{ $req.DateEnd }}</td>
                    <td id="closed">{{ $req.Status }}</td>
                    <td style="text-align: center;">{{ $req.Priority }}</td>
                    <td style="text-align: center;">+</td>
                    <td class="edit"><button><i class="fa-solid fa-pen-to-square"></i></button></td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </main>

{{ template "footer" }}

{{ end }}
